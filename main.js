var wtb = require('./wtb')
var log = console.log
// login by account
// wtb.loadForm().then(data => {
//   //log(data.form)
//   //log(data.jar)
//   wtb.login(data.form,data.jar).then(body =>{
//     log(body)
//   },err =>{
//     log(err)
//   })
// },(err)=>{
//   log(err)
// });

// login by token
// wtb.loginByToken('__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; ASP.NET_SessionId=ohitaw3d0rfvkgt3zttlqzwd; .ASPXFORMSAUTH=F6FDF872F9B5B763E7F0394928C3B067FA85738D6613A1A0E7BCDEFE1F157DA89DD04315980344E92E3A43AF73DFF7E1E25D31834BDD18908A9948BBE59D43D4A236A4F642BDAB7C728BA7D306D250D9585F03685AD9807C397704B8D75DCE9E54AF82B61F058CADE6157FD52830CEDA50600A5408AB870597F19BDAAB761100BCC04EA2CA67773A22BF1340520AA17D2061D946EFB43757B2AD214E85B8943AD3D1BEDC6043F3BF381F631DD1E9C2B68156E5FC6325C8B685B441C4DE427A94EFA9B4269748FB8EA419BAF1696F4BF932EFFF88DF18C6E731BC46AA1933DD52E94325112C58AE1A2AA3ABF2F0499BC1298FF402C0D357625E35AC123F7854FD6EB6E60757F634E433C6F12434BC70E8AE682E13CD6D95BF89CBA84D2E72AE0CFB19D7D2EFF6139E4E498521BBB9387BCAB67A7FD1EE6B583DA27AC6A80D6D54212FC17B2FD200BAF0D82F1784728EF9B7DD630B649FF7A48EB33D458E0147B5EAFFFF980A478C6DFC5955FC12D104BD51590C63596E26BDE22773ABF461A029FA51F3350CDD6FC2D9F795FFD18B37C3AB9317F84F05E66F3D163445CEF70A7B383235DE7F3765FFFD0F687EE3CDB82C9F4F0FE3448D582EF5CAEBC9DC862493BF322073C20CDA7FC392572C5B91EC9A').then(body => {
//   log(body)
// })

// get balance
// wtb.getBalance('__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; ASP.NET_SessionId=ohitaw3d0rfvkgt3zttlqzwd; .ASPXFORMSAUTH=F6FDF872F9B5B763E7F0394928C3B067FA85738D6613A1A0E7BCDEFE1F157DA89DD04315980344E92E3A43AF73DFF7E1E25D31834BDD18908A9948BBE59D43D4A236A4F642BDAB7C728BA7D306D250D9585F03685AD9807C397704B8D75DCE9E54AF82B61F058CADE6157FD52830CEDA50600A5408AB870597F19BDAAB761100BCC04EA2CA67773A22BF1340520AA17D2061D946EFB43757B2AD214E85B8943AD3D1BEDC6043F3BF381F631DD1E9C2B68156E5FC6325C8B685B441C4DE427A94EFA9B4269748FB8EA419BAF1696F4BF932EFFF88DF18C6E731BC46AA1933DD52E94325112C58AE1A2AA3ABF2F0499BC1298FF402C0D357625E35AC123F7854FD6EB6E60757F634E433C6F12434BC70E8AE682E13CD6D95BF89CBA84D2E72AE0CFB19D7D2EFF6139E4E498521BBB9387BCAB67A7FD1EE6B583DA27AC6A80D6D54212FC17B2FD200BAF0D82F1784728EF9B7DD630B649FF7A48EB33D458E0147B5EAFFFF980A478C6DFC5955FC12D104BD51590C63596E26BDE22773ABF461A029FA51F3350CDD6FC2D9F795FFD18B37C3AB9317F84F05E66F3D163445CEF70A7B383235DE7F3765FFFD0F687EE3CDB82C9F4F0FE3448D582EF5CAEBC9DC862493BF322073C20CDA7FC392572C5B91EC9A')
// .then(balance => {
//   log(balance)
// })

// wtb.getBall('__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=18E1233DC3D8F9F491D8E2DD8BCE6D64309D38CA30FB2E2E8622C2E6CAE233269BA8E773136B39A7BFDB8E675D152C43D55BCD5BEB7B72B567571978131F670DBEC3C2C975DD4392253DF7649154B5BCC1C997C72DE5C05E2E5DCB0C321E4C8DA4274B3B7B6AFD1C24038DEC1AF1E370B8ABFFED920760787EC244F0262FA5D15661F364119CBFA34CF3B58BEBCB943C6444E1FD1F95BA2B747B0E8A28314600BC07D645550864238A1E7C0F26C673C37F249A94B46F349AA3688B340EB5463E44A01C996E0558F76F3DFF3825D891ABB82960A2E4B95F88FA96705198CFEC8669DD5362F48F22904190C78CDCF0E9570367886C2CA620BF0E7A01A553E32B238C9795D1E09AB391DE65465CB0D3346B873F644596ED6FACF2E280CF67AF2719F6BE91AC2719F52CFAEB5094673760FB5749F4883C6361580890DF3C5ED7F4D7526CACA2DD621CA0F48B88CD605AC928A14DB73C35E07B6A77A7773C658C186D5F6B54BF5617825B500AC9A90F4FF840C23AA416E13933EF5E654B033E9133C8DEF47EB743CAD9E079F2D9E9737076A05AA1A07E03461ED7639A9F35B49A2FC3D1D00E1CEE62DDFD4AC508976DF156D35AFF62FBB1255986B771860FC1690F91F86A629F14F5FAEF93F178844DD24C79'
// , {
//   brokerId: wtb.borker.forex,
//   symbolId: wtb.forex.AUDUSD
// }).then(body => {
//   //log(body);
//   log(JSON.parse(body)[0])
// }, err => {
//   log(err)
// })

// wtb.bet('__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=18E1233DC3D8F9F491D8E2DD8BCE6D64309D38CA30FB2E2E8622C2E6CAE233269BA8E773136B39A7BFDB8E675D152C43D55BCD5BEB7B72B567571978131F670DBEC3C2C975DD4392253DF7649154B5BCC1C997C72DE5C05E2E5DCB0C321E4C8DA4274B3B7B6AFD1C24038DEC1AF1E370B8ABFFED920760787EC244F0262FA5D15661F364119CBFA34CF3B58BEBCB943C6444E1FD1F95BA2B747B0E8A28314600BC07D645550864238A1E7C0F26C673C37F249A94B46F349AA3688B340EB5463E44A01C996E0558F76F3DFF3825D891ABB82960A2E4B95F88FA96705198CFEC8669DD5362F48F22904190C78CDCF0E9570367886C2CA620BF0E7A01A553E32B238C9795D1E09AB391DE65465CB0D3346B873F644596ED6FACF2E280CF67AF2719F6BE91AC2719F52CFAEB5094673760FB5749F4883C6361580890DF3C5ED7F4D7526CACA2DD621CA0F48B88CD605AC928A14DB73C35E07B6A77A7773C658C186D5F6B54BF5617825B500AC9A90F4FF840C23AA416E13933EF5E654B033E9133C8DEF47EB743CAD9E079F2D9E9737076A05AA1A07E03461ED7639A9F35B49A2FC3D1D00E1CEE62DDFD4AC508976DF156D35AFF62FBB1255986B771860FC1690F91F86A629F14F5FAEF93F178844DD24C79',
//   {
//     brokerId: wtb.borker.forex, // forex 1, coin 2
//     symbolId: wtb.forex.DIAMOND, // curentcy type
//     BetChoice: wtb.choice.BUY, // buy 1, sell 2
//     BetFrom: 'w',
//     Stake: 5, // $
//   }
// ).then(body => {
//   log(body), err => {
//     log(err)
//   }
// })

// setup algorithm 
var tokens = [
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=766C6D49A5E3AD5D837AE5D360003070A98DBFE06D8A8CF247E075FCE33457AA57C9F5AFE93BF7C7E5BB31C52E063BE526D9FFFEC15A3F3DF69E4BA682472E2F58BAEF6F73947460B88ADC45D92D3425AFDCBDC1A8161638853CB78CBCD859E65FE844C5B11020ED0821C9B9CB592CFD49F53868EF8AD27448BFC9EB339DCDA5EF29A21B26A0B5E980115483C30FF37EAC667B03280AC89DCDE6AADFFA6258A35B88EDFE046FB6079EA080684042BF29DD980278FFD1F9E21D0041A6F6F2E31E7FC5393FEA3E8EC6E2B4047B92528FB5DEBDD9882E9DFBF122788E7F291706432354E24153191FA00E7F18CBAC503F1C85C638B02F6287584C97E024C65A4E1D84949132FDA12DC757253FF13E54294F2C40C7C2A0DC2724817CBE79FDBD05AA5BDD7C2DC89810A7031F71F1514AB76B81B38E252703DB724F71639B9386AD1BBA4BB8D43E2A27B84289847C6B06675866389C32C8D50E6D096BEDE802E631FBFB5DCB2DAFC8FA088206E9786661CC93A7464C431AC563E56CC383473FC2D670B644BC250E41EA1452EA75DE97CB3DDD1E71D148E4C481DE72DD57BDC4828AEFB7B2363FEDD06164C078F12B2D1EC96352A6D7F3BE77597169AA5A00133B687D1CE69189AF9096EC2101DB5C386C0428',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=5F2A46FF0FB92DDA301FC232F34EE1FBFCC7503B3AB490872031EF4BE54C922752FB9DF087DF59B75E0AD91C27BE377DBA4623D83656F13722D52F232A8DE68A2AD8CA5305E18998397AB77458983326B7C11667AB7274C6F10011E0F2B14D1E36909EFBD7CCC8752E32F9AC9BE8137CB947A8D4656ACCFF045DC194DFB3A678D7A44B047C55871D1A033C372A1533CED1FE15CE6C85A5D25631F3C07FDB568912437384B2D35DAF181776D323A03645AE3EA317409B95ED598CF87A2DCF273935C00BC1002942E39FEE7FCCB5009CF853EBAC210CF841E4675AA2BAC44A98B0456828F9FDD8F70C68C52A64EDEA48D26A792EDD8124E75C1E5EF6434B3401BA41BE8208D72B0F9A6C57ACDF7EEFB90FCC705DE52719C9A48B5D9A46615662012D3860EDB7F75CA668AC0AA6B8690F3A944537EA14FDB7373D400B93D1D7C14BCD4F419C6102FFB30DB59BB6480E25A9C3AFBE82F47279DE08D6597454B6A0A33435FA82669E91BA0086F6BA76477B47BD495B0C53740AD914FE875797FE9447A400E3D8673E2C6E096821ACC78D7FD4AFD3ABAF9092083E471F55A0F7A3C686CF677A78CAB88CC9A346D612A980925FE278DF3F8B2C02A4B779BA8CEF5DF4045F06A9DEB9665111514AD2F0259E807E',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=5D4B8F4CA86780460724E93208A4EEAE588CBC435CD3D2722C8ABB24844E7DAE28AD6F98F61C4567EE4922D524674E84F425DE9A64E33BFE51F7565102FA741FA9A6E27DBE9F8EFDEC35D2816CD7CDAF44F4EDEBAA5D58194992A1F461AF94077DE7D1C6BF3762AEE29D7C4F05D061B029F7EC3A16D07381ACC09C87B8EEC55A8DD1EC642FE71A7C15A5D9C57C88FF017C83373C98441D9279A1C161DC17DA0CF779D344BD718FC56CAFCA8F73CAAC6DF15EADCAAE2A29481878426F363693A23FD9B37104024C19563023D17625E4C01C1EA71D82761450580CF1D7D3A111D6F25067F48ECDE1D2BCEEFFC64CB2244BD450611180F1D1F022E719FA9E6859E0F2464750B97A9F64CF10F041A25A5E9EB4D26DCA86BE064F43108CFBC6ECE66DE57DF60A8F1AE1B568F99C3A6D8AAF707239C3A69298548503C939B3FDBA3BA810224FDC93EA8D1CDEB33B24EF3C77DC1D8C258EE415A3EA0E6C2BD7C2683BBF86508AA03FE52E488ECE5DAA460FCE0A948752ED77FAD730B316A48387064820FF4298E3852424F0802F299E31575193659C9026AFD4A884DB7D956DDD99716EE6EFA1FBF4BCBC8B7812DAE3124A548F8A060DB5B6B93D207E2ADC65A8F04DF1EFC1CA98D4EAC9B95AFD1C3B819B1706',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=A0EE4BF5F3732CA9B40CEAD7E14A6D5BDAF506C7C43077512487EC4A7920EE41E5AFDBD1A57C390CA74DEE7D55232D66D0F2790316B7CBF136B62753FC8D079A4F679D0CC7C328B1804B27DC67F9B7F855BD9119DE31FBEE067E3F1DFCF9E175F747B0406050604E724F071D232CF9EBC03BEACC4140535CEB5533058568D734764151F9C5A5B7178939FC9D74E930828A23080101BECC0224833000F0C833D7E4D2E6E7F395121629D9650E484F4BF558EEB0F778D802BA9A3557D66F2F438E8405209D0430ACA2581C10F1A2E0AC7ACF732E57A9F955222EE20879E897C5BD86D5E13F5980281F99E4836703D77D3A2F952795210D304651D25BE88A26B68FD8C20B72D665B72BB046C5BAAC3C0B93C81B95312CA89E6BE990F654430B23A4F6E0477965B768270C81504871D0B7E50754C308655B6DEE0D9AE7C3B99F7718936469523B868CDE6959014D88C5AA095882307445F84C42EDE3E3874A98CA64B6486196224A1D0BBABA1128D5CD5B704E55DB6DD2FEDC891EB147EE8684B13167DFDC81F564DC7E025FB8BCED73B4F33D3EE9AEF4EF52E21687842B6E853DCD7E492C2C3D09C4315BB8CA06D6DFE055844A25C36AD969E71BF65F0CD4BC63528AC8C421A6B0F2B78165E009D45E45E0',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=A0EE4BF5F3732CA9B40CEAD7E14A6D5BDAF506C7C43077512487EC4A7920EE41E5AFDBD1A57C390CA74DEE7D55232D66D0F2790316B7CBF136B62753FC8D079A4F679D0CC7C328B1804B27DC67F9B7F855BD9119DE31FBEE067E3F1DFCF9E175F747B0406050604E724F071D232CF9EBC03BEACC4140535CEB5533058568D734764151F9C5A5B7178939FC9D74E930828A23080101BECC0224833000F0C833D7E4D2E6E7F395121629D9650E484F4BF558EEB0F778D802BA9A3557D66F2F438E8405209D0430ACA2581C10F1A2E0AC7ACF732E57A9F955222EE20879E897C5BD86D5E13F5980281F99E4836703D77D3A2F952795210D304651D25BE88A26B68FD8C20B72D665B72BB046C5BAAC3C0B93C81B95312CA89E6BE990F654430B23A4F6E0477965B768270C81504871D0B7E50754C308655B6DEE0D9AE7C3B99F7718936469523B868CDE6959014D88C5AA095882307445F84C42EDE3E3874A98CA64B6486196224A1D0BBABA1128D5CD5B704E55DB6DD2FEDC891EB147EE8684B13167DFDC81F564DC7E025FB8BCED73B4F33D3EE9AEF4EF52E21687842B6E853DCD7E492C2C3D09C4315BB8CA06D6DFE055844A25C36AD969E71BF65F0CD4BC63528AC8C421A6B0F2B78165E009D45E45E0',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=319FD1978CA3C880B67C5CC0C81E14D545189A91A745A77AA5E9A1F01383C2FF2E6DB32132A875EEDE00141F29C6CD2A23E612E2CE450A8880EA34A7E7B83395C3FE7EB40121680E2F6D31915B8E2D3BADF1828F74C6F3D91793C83F4D7AA2812AFE99EB00385711A66DB4B6EC19D243515F315246034F57E5437B897B61B842A683BDBAD30EAF95D7E13CA15B50B202CAB98C91658BE4150DEFB9B3D68AD3306D003B6C01FAC7E1D6856A23282BF5E3B1D8A42969C9A1064FC8FB0F7CDF63C71D9516689C9574E76ADE6A09BCD147A32598A768CF2E242188C8D82B861066802DCEEEFB31C76FD96AC3D8BC5029C29B18AF87E3EE676DB2B01CDF713E722595A8B45E5B4D2A1716B2FF45FE119D92D8B67B0F9F2765ED2CC9846924428C786A7DFB43A45D1D012A1A99CDFAAFBA54F82167CFC889A69288C0952152432E84D11887478D72FBD2BEBF3086997AA036EBA1CB2039C5373151D8C4A8F4DBF72231AC21F24DCB37A83405504E350019F7E1418ABDAC9A5024EACDA1DF021A48C58D5C75C2B245ABE138775AFFBFA929BD7DCEBA36055BE9AB1E01843EC30079220463111624291CA5A52893EFFD77DD6A3B5D29B1C0C821D570C6253B3AA9027B13797F7598A50236E128C647F7B2E41335',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=3A67EC4EEE4E15D4F28F6979A781C30E057DE8FEAA3B43569912A6A6AA72B2E3470F765624FFD68CEC5C4E5E43EFE0D904B0843AE0FE1D672FC44DD8A6A4B9CCDF69D82B44ED0073747ED28592668A92592DDE82D6C1ECF3BCA9B2FE095B6217D7D383F8C7FE810C7C686C9E2CCDEC6B6F71736AF3178C9E64D6CC8983B432921EEBA2169B92510C2087143CF6B7D0590F2D0AF62012A8F03CA6F5B2EED7C41CE464BEF1CE84C3CDFCC170833BA4C1139E9F7DE571E630086F40992C98A4A26F099B60150015523FE4A7FC9BC0995EB4B18B65D0067945738BFA1C2F8D04CF79D8F80381A8FB3B202AC559EAAD965CA3AFA91359C30129B020A2C452B0D8A27DB21A02C60DA9C6973C2D0A3A23319D771569AA4AF9E8578B3B139F59CB32207478F8213C5AC75DCE94D39BF064FED194141AB2F67C4F860BD704CC30C34098205F5552B92B62664D1E1D6621442D87DE85A38EEBB8C683B65F6CEA504B1F97040C136A5EC048216E10C22302927531BBA6145828C1B8D48A2D47488E4D9544E5009B700301B69743A977F5695170DAE394C22A74D69DC7E3EC947031C525BDDD126A2CC31FF389612A3892995B3F80C57F570AF5084C83E5F2B6B2A03E27861B1E22B3FD536FEA59F0E23747B01771FE',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=F0651344A0505A025739E35603DB0F0502222C58271D4B86F38BC19EBC4FEAF68823556621A06CD506E697B9D2FCA5986E640BC420D2584A50D355B24158F8C6E51795E511237E2ED91D16E99ECA7B29D6C6FBA6205AE69EB222CB4DD58443FAAFB0324FFF86F2956711FB4FA7ADEEBA6F21DADEC051E9F2AA6A5AD50F25720C6EB394BA5AB9125092BE4680DEC58F3DBF7A741A126317321FAACE7436188378D7FA2116C621B3AD2A065CA07FE18EAF7709450B7BCB509184293117F347F892AC51BCE45D58F5F5A987833E3AAADAFAB581E9D74E1174EF66EBC737AB53A708361073C1BE46EAA2DE313A993279F8CC551168C6FDCA33F56C480F3C8D146E4BE3E1BF71F6043FB423096359B628C3CC1E043E0D03BA60372F7BA6F9645401A1F2B62E6E21A2CE6FB96E941F42E7A31A3470C15E6AE4C2D90B7E950E0848FDFAA5FDAA0B7876C7B1EA478A9B684F578C38A789BF57962D02767A52689F214D06DEA3F3C0D010C390A92AE019C6091E33C48660BBB5624D0E9CDBF24715843BF56386571B4DEC0EA61D7A353BC3A570F2E272A1EFE15CB05A1B845EC5F827881254AAF0EE3A8567A0098DD65D15920077E397C3563870A3176D7AC3E2500C5D3986362EB418A4AD01A6AA96BCC9E3595D',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=F0651344A0505A025739E35603DB0F0502222C58271D4B86F38BC19EBC4FEAF68823556621A06CD506E697B9D2FCA5986E640BC420D2584A50D355B24158F8C6E51795E511237E2ED91D16E99ECA7B29D6C6FBA6205AE69EB222CB4DD58443FAAFB0324FFF86F2956711FB4FA7ADEEBA6F21DADEC051E9F2AA6A5AD50F25720C6EB394BA5AB9125092BE4680DEC58F3DBF7A741A126317321FAACE7436188378D7FA2116C621B3AD2A065CA07FE18EAF7709450B7BCB509184293117F347F892AC51BCE45D58F5F5A987833E3AAADAFAB581E9D74E1174EF66EBC737AB53A708361073C1BE46EAA2DE313A993279F8CC551168C6FDCA33F56C480F3C8D146E4BE3E1BF71F6043FB423096359B628C3CC1E043E0D03BA60372F7BA6F9645401A1F2B62E6E21A2CE6FB96E941F42E7A31A3470C15E6AE4C2D90B7E950E0848FDFAA5FDAA0B7876C7B1EA478A9B684F578C38A789BF57962D02767A52689F214D06DEA3F3C0D010C390A92AE019C6091E33C48660BBB5624D0E9CDBF24715843BF56386571B4DEC0EA61D7A353BC3A570F2E272A1EFE15CB05A1B845EC5F827881254AAF0EE3A8567A0098DD65D15920077E397C3563870A3176D7AC3E2500C5D3986362EB418A4AD01A6AA96BCC9E3595',
  '__cfduid=dd9ba26fce26de6804f42a1c44c7635711530694744; .ASPXFORMSAUTH=315C79531FE80B9A1C919B9D23975B4C03CFC67532CAC0EF917AD50AD0E5662ED662A9A77B141D6E115B3CE98E3C68D94170D51258D9C824777ED837FCB538F44309AD20C751B312E267DE1F24D9EE2A5E26CCF1A193E4DFC18DF8C436D8311AF7E85603B82C2AB9F9B0061F7F99AC05CC4DD2E6A586365C1EB42349AB4C7623AD08B42B135CD3371F277292EDE9CBD7E92924EADC37DA436B414CFABB347B218E21FF605B46282CBAA8CCC7F843A86667EFC995D958E88676B45B73B6C57C444FE80C4DAFBDA7CE5D3CC83FDB4D9F1155787C79BE80E030D83E584CBCD9A4BDA40C7ED0F118C7749CC7ADDCD7D839925D086B4AC08F8698AC8F94176DB0AA0014B263D02D420B4C754300168C4051DF0F1DE157C3BC6B1E678D56D2323CD0EBC800F9173E8D3FEA0E3DFC5CD001E1A27347743F3962AB173D717834442A3B471001537860D369BC002100E297CA3A8BDE12A1730D3803FA8BAAFC858A36E0F3732145E7FF96790A523EEE58A9F7BF448AC8964216CB66A24CCAC4E56FD6B385A52C9D1157B06EFD95383B0C0AEEA97D0407F0B114B288CA7036578F764AC9589C31786A8CB3DD06FD0ACF3878B66FA2851BED208DDEDE99153FD86C00406A675DA0A760B02E1FAEEB9CE9019B238C8F'
]
var token = tokens[0]
var minBalance = 100
var betBalance = 5
let startTime, endTime, duration
// get ball list 
function callBet(token, broker, symbol, betBalance) {
  return new Promise((resolve, reject) => {
    startTime = new Date()
    wtb.getBalance(token).then(balance => {
      log('Current Balance:%s', balance)
      if (balance > minBalance) {
        wtb.getBall(token, {
          brokerId: broker,
          symbolId: symbol
        }).then(balls => {
          let indexBall = balls.length;
          let result = balls[(balls.length - 1)].Result
          let isGreenBall = result === 2 ? false : true // (green or yellow)
          log('LatestBall[%s].Result=%s is:%s', indexBall, result, isGreenBall ? 'Green' : 'Red')
          wtb.bet(token, {
            brokerId: broker,
            symbolId: symbol,
            BetChoice: isGreenBall ? wtb.choice.SELL : wtb.choice.BUY, // buy 1, sell 2
            BetFrom: 'w',
            Stake: betBalance, // $
          }).then(result => {
            endTime = new Date()
            duration = wtb.dateDiff(startTime, endTime, 'seconds')
            log(`startTime = ${startTime.toLocaleTimeString()}`)
            log(`endTime = ${endTime.toLocaleTimeString()}`)
            log(`duration: ${duration}`)
            log('Result bet:')
            log(result)
            let timeout = 30000 - (parseInt(duration) * 1000)
            log('timeout:%s', timeout)
            resolve()
            // setTimeout(() => {
            //   //callBet();
            // }, timeout);
          }, error => {
            log(error)
            reject(error)
          })
        })
      }
      else {
        log(`Balance is comming min value : ${balance}`)
        reject(`Balance is comming min value : ${balance}`)
      }
    })
  })
}
callBet(token, wtb.broker.forex, wtb.forex.AUDUSD, betBalance).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.DIAMOND, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.EURGBP, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.EURJPY, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.EURUSD, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.GBPUSD, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.GOLD, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.OIL, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.SILVER, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.USDCAD, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.USDCHF, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.forex, wtb.forex.USDJPY, betBalance)
}, error => { log(error) })
.then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Bitcoin, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Bitcoin_Cash, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Cardano, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Dash, betBalance)
}, error => { log(error) })
.then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.EOS, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Ethereum, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.IOTA, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Litecoin, betBalance)
}, error => { log(error) })
.then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.NEM, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.NEO, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Ripple, betBalance)
}, error => { log(error) }).then(() => {
  callBet(token, wtb.broker.coin, wtb.coin.Stellar, betBalance)
}, error => { log(error) })
//log(wtb.getKey(wtb.forex,1))

// for (var symbol in wtb.forex) {
//   for (var broker in wtb.broker) {
//     callBet(token, broker, symbol, betBalance)
//   }
// }
